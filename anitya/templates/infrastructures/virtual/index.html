{% extends "base.html" %}
{% block title %}{{ block.super }} | 仮想マシン一覧{% endblock title %}
{% load staticfiles %}

{% block extra_head %}
    <link href="{% static 'infrastructures/css/style-infrastructures.css' %}" rel="stylesheet">
{% endblock %}

{% block body %}
<div class="breadlist">› 仮想インフラ › 仮想マシン</div>
<h2 class="page-header">仮想マシン</h2>
<div class="table-header">
    <div class="modal fade" tabindex="-1" role="dialog" id="modal">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
            </div>
        </div>
    </div>
    <button class="virtual-register-btn btn btn-primary" type="button" name="button"><i class="fas fa-plus">&nbsp;</i>仮想マシン登録</button>
    <script type="text/javascript">
      $(function () {
        $(".virtual-register-btn").modalForm({
            formURL: "{% url 'infrastructures:virtual_register' %}"
        });

      });
    </script>
</div>
{% if all_virtual_list %}
<table class="table table-striped table-hover">
    <thead><tr><th>仮想マシンID</th><th>仮想マシン名</th><th>物理インフラID</th><th>タグ</th></tr></thead>
    <tbody>
    {% for virtual in all_virtual_list %}
        <tr>
            <td><a href="{% url 'infrastructures:virtual_detail' virtual.id %}">{{ virtual.id }}</a></td>
            <td>{{ virtual.name }}</td>
            <!--<td>{{ virtual.infrastructure_id }}</td>-->
            <td><a href="{% url 'infrastructures:physical_detail' virtual.physical_id %}">{{ virtual.physical_id }}</a></td>
            <td>{{ virtual.tags }}</td>
        </tr>
    {% endfor %}
    </tbody>
</table>
{% include "common/pagination.html" %}
{% else %}
<p>仮想マシンが存在しません。</p>
{% endif %}
<br/>
<hr>
<b>all_virtual_list: </b>{{ all_virtual_list }}
<br/><br/>
{% endblock %}
